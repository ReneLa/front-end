{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Projects/React js/House /HouseAssist/frontend/components/landlord/house/create/CreateParentHouse.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { withStyles, fade } from \"@material-ui/core/styles\";\nimport { Mutation } from \"react-apollo\";\nimport { Select, Button, Avatar, IconButton, Typography, Fade, Paper, InputBase, Divider } from \"@material-ui/core\";\nimport gql from \"graphql-tag\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport BuildingIcon from \"@material-ui/icons/Apartment\";\nimport { theme as customTheme } from \"../../../Page\";\nimport loadingImg from \"../../../../public/static/126.gif\";\nimport { Container, FlatButton, Input } from \"../../../styledComponents\";\nimport ParentHouses from \"../../../queryComponents/ParentHouses\";\nimport { GET_USER_PARENT_HOUSES } from \"../../../queryComponents/ParentHouses\";\nimport DeleteParentHouse from \"../DeleteParentHouse\";\nconst CREATE_PARENT_HOUSE_MUTATION = gql`\n  mutation CREATE_PARENT_HOUSE_MUTATION(\n    $building_name: String!\n    $address: String\n    $image: String\n  ) {\n    createParentHouse(\n      building_name: $building_name\n      address: $address\n      image: $image\n    ) {\n      id\n      building_name\n      address\n      image\n    }\n  }\n`;\n\nconst styles = theme => ({\n  list: {\n    width: \"100%\",\n    alignItems: \"center\"\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    maxWidth: 120\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  input: {\n    display: \"none\"\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\"\n    }\n  }\n});\n\nclass Buildings extends React.Component {\n  render() {\n    const {\n      classes,\n      buildings,\n      create,\n      showForm\n    } = this.props;\n    return __jsx(Container, {\n      column: true,\n      flex: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, __jsx(Container, {\n      row: true,\n      space: \"space-between\",\n      customStyles: {\n        padding: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, __jsx(Paper, {\n      component: \"form\",\n      className: classes.root,\n      elevation: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, __jsx(InputBase, {\n      className: classes.input,\n      placeholder: \"Search buildings\" // inputProps={{ \"aria-label\": \"search google maps\" }}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }), __jsx(Divider, {\n      className: classes.divider,\n      orientation: \"vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), __jsx(IconButton, {\n      type: \"submit\",\n      className: classes.iconButton,\n      \"aria-label\": \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, __jsx(SearchIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }))), __jsx(FlatButton, {\n      onClick: () => {\n        create();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, \"New Building\")), __jsx(Container, {\n      flex: 1,\n      column: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, __jsx(Container, {\n      column: true,\n      customStyles: {\n        width: \"100%\",\n        borderRadius: 2,\n        border: `1px solid ${fade(\"#393939\", 0.1)}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, __jsx(Container, {\n      row: true,\n      space: \"space-between\",\n      customStyles: {\n        padding: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, \"Name\"), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, \"address\"), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \"action\")), buildings.map(building => {\n      return __jsx(Container, {\n        key: building.id,\n        row: true // color=\"#FEFEFF\"\n        ,\n        space: \"space-between\",\n        customStyles: {\n          padding: 10,\n          cursor: \"pointer\",\n          borderTop: `1px solid ${fade(\"#393939\", 0.1)}`,\n          \"&:hover\": {\n            backgroundColor: ` ${fade(\"#FEFEFF\", 1)}`\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 19\n        }\n      }, building.building_name), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 19\n        }\n      }, building.address), __jsx(Container, {\n        row: true,\n        right: true,\n        center: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 19\n        }\n      }, __jsx(DeleteParentHouse, {\n        id: building.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      })));\n    }), __jsx(Container, {\n      row: true,\n      center: true,\n      customStyles: {\n        padding: 10,\n        borderTop: `1px solid ${fade(\"#393939\", 0.1)}`\n      },\n      middle: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, __jsx(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, \"showing \" + buildings.length + \" result(s)\")))));\n  }\n\n}\n\nconst BuildingsList = withStyles({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: 200\n  },\n  input: {\n    marginLeft: 10,\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    height: 28,\n    margin: 4\n  }\n})(Buildings);\n\nclass CreateParentHouse extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      building_name: \"\",\n      address: \"\",\n      image: null,\n      showForm: false\n    });\n\n    _defineProperty(this, \"createForm\", () => {\n      this.setState({\n        showForm: true\n      });\n    });\n\n    _defineProperty(this, \"closeCreateForm\", () => {\n      this.setState({\n        showForm: false\n      });\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"uploadImage\", async e => {\n      const files = e.target.files;\n      const data = new FormData();\n      data.append(\"file\", files[0]);\n      data.append(\"upload_preset\", \"house_assist\");\n      const res = await fetch(\"https://api.cloudinary.com/v1_1/dsubmyluz/image/upload/\", {\n        method: \"POST\",\n        body: data\n      });\n      const file = await res.json();\n\n      if (file) {\n        this.setState({\n          image: file.secure_url\n        });\n      }\n    });\n\n    _defineProperty(this, \"CreateFormWrapper\", () => {\n      const {\n        building_name,\n        address,\n        image,\n        showForm\n      } = this.state;\n      const {\n        classes\n      } = this.props;\n      return __jsx(Fade, {\n        in: showForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 7\n        }\n      }, __jsx(Container, {\n        flex: 1,\n        column: true,\n        customStyles: {\n          zIndex: 1305,\n          paddingTop: 64\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }\n      }, __jsx(Container, {\n        row: true,\n        center: true,\n        space: \"space-between\",\n        customStyles: {\n          position: \"absolute\",\n          top: 0,\n          width: \"100%\",\n          paddingLeft: 10,\n          paddingRight: 15,\n          height: 64,\n          border: `0.5px solid ${fade(\"#393939\", 0.2)}`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }\n      }), __jsx(Typography, {\n        variant: \"button\",\n        style: {\n          fontSize: 13,\n          fontFamily: 400\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }\n      }, \"Create Building\"), __jsx(\"span\", {\n        onClick: this.closeCreateForm,\n        style: {\n          fontSize: 30,\n          fontWeight: 200,\n          cursor: \"pointer\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }\n      }, \"\\xD7\")), __jsx(Container, {\n        flex: 1,\n        column: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }\n      }, __jsx(Mutation, {\n        mutation: CREATE_PARENT_HOUSE_MUTATION,\n        refetchQueries: [{\n          query: GET_USER_PARENT_HOUSES\n        }],\n        variables: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }\n      }, (createParentHouse, {\n        loading,\n        error\n      }) => {\n        return __jsx(Container, {\n          flex: 1,\n          color: \"inherit\",\n          role: \"presentation\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 19\n          }\n        }, __jsx(\"form\", {\n          method: \"post\",\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            // justifyContent: \"center\",\n            // alignItems: \"center\",\n            flex: 1\n          },\n          onSubmit: async e => {\n            e.preventDefault();\n            await createParentHouse().then(res => {\n              this.closeCreateForm();\n            });\n            this.setState({\n              building_name: \"\",\n              address: \"\",\n              image: null // showForm: false\n\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 21\n          }\n        }, error && error.graphQLErrors.map(({\n          message\n        }, i) => __jsx(\"p\", {\n          key: i,\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 27\n          }\n        }, message)), __jsx(Container, {\n          column: true,\n          center: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 23\n          }\n        }, __jsx(Input, {\n          type: \"text\",\n          name: \"building\",\n          label: \"building name\",\n          value: building_name,\n          style: {\n            width: \"50%\",\n            marginTop: 40,\n            marginBottom: 20\n          },\n          onChange: e => {\n            this.setState({\n              building_name: e.target.value\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }\n        }), __jsx(Container, {\n          row: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 25\n          }\n        }, __jsx(Input, {\n          accept: \"image/*\",\n          id: \"text-button-file\",\n          multiple: true,\n          type: \"file\" // value={image}\n          ,\n          onChange: this.uploadImage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 27\n          }\n        }), image !== null && __jsx(\"img\", {\n          src: image,\n          style: {\n            width: 40,\n            height: 35,\n            objectFit: \"fit\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 29\n          }\n        }))), __jsx(Container, {\n          right: true,\n          center: true,\n          row: true,\n          flex: 1,\n          space: \"space-between\",\n          customStyles: {\n            position: \"absolute\",\n            bottom: 0,\n            marginTop: 15,\n            padding: 10,\n            borderTop: `0.5px solid ${fade(\"#393939\", 0.2)}`,\n            width: \"100%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 23\n          }\n        }, __jsx(FlatButton, {\n          type: \"submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 25\n          }\n        }, loading ? __jsx(\"img\", {\n          src: loadingImg,\n          style: {\n            width: 20,\n            height: 20\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 29\n          }\n        }) : \"Save\"))));\n      }))));\n    });\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const {\n      showForm\n    } = this.state;\n    return __jsx(Container, {\n      flex: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 7\n      }\n    }, !showForm && __jsx(ParentHouses, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }\n    }, ({\n      data,\n      loading\n    }) => {\n      if (data) {\n        const buildings = data.getUserParentHouses;\n\n        if (buildings.length !== 0) {\n          return __jsx(BuildingsList, {\n            buildings: buildings,\n            create: this.createForm,\n            showForm: showForm,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 21\n            }\n          });\n        }\n\n        if (buildings.length === 0) {\n          return __jsx(Container, {\n            flex: 1,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 21\n            }\n          }, __jsx(Container, {\n            flex: 1,\n            column: true,\n            middle: true,\n            center: true,\n            customStyles: {\n              paddingTop: 64\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 23\n            }\n          }, __jsx(BuildingIcon, {\n            style: {\n              fontSize: 60,\n              color: \"gray\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 25\n            }\n          }), __jsx(Typography, {\n            variant: \"button\",\n            style: {\n              fontSize: 18,\n              color: \"black\",\n              fontWeight: 600,\n              marginTop: 15\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 25\n            }\n          }, \"Add New Building\"), __jsx(Typography, {\n            style: {\n              fontSize: 13,\n              fontWeight: 200,\n              marginTop: 10\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 25\n            }\n          }, \"You have more than one house with in a\"), __jsx(Typography, {\n            style: {\n              fontSize: 13,\n              fontWeight: 200,\n              marginBottom: 15\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 25\n            }\n          }, \"single building, add them in to a building\"), __jsx(FlatButton, {\n            onClick: this.createForm,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 25\n            }\n          }, \"Add Building\")));\n        }\n      }\n\n      if (loading) {\n        return __jsx(Container, {\n          flex: 1,\n          middle: true,\n          center: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 19\n          }\n        }, __jsx(\"img\", {\n          src: loadingImg,\n          style: {\n            width: 25,\n            height: 25\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 21\n          }\n        }));\n      }\n\n      return null;\n    }), this.CreateFormWrapper());\n  }\n\n}\n\nexport default withStyles(styles)(CreateParentHouse);","map":{"version":3,"sources":["/Users/mac/Projects/React js/House /HouseAssist/frontend/components/landlord/house/create/CreateParentHouse.js"],"names":["React","withStyles","fade","Mutation","Select","Button","Avatar","IconButton","Typography","Fade","Paper","InputBase","Divider","gql","SearchIcon","BuildingIcon","theme","customTheme","loadingImg","Container","FlatButton","Input","ParentHouses","GET_USER_PARENT_HOUSES","DeleteParentHouse","CREATE_PARENT_HOUSE_MUTATION","styles","list","width","alignItems","formControl","marginTop","spacing","maxWidth","button","margin","input","display","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginRight","marginLeft","breakpoints","up","Buildings","Component","render","classes","buildings","create","showForm","props","padding","root","divider","iconButton","border","map","building","id","cursor","borderTop","building_name","address","length","BuildingsList","flex","height","CreateParentHouse","image","setState","e","target","name","value","files","data","FormData","append","res","fetch","method","body","file","json","secure_url","state","zIndex","paddingTop","top","paddingLeft","paddingRight","fontSize","fontFamily","closeCreateForm","fontWeight","query","createParentHouse","loading","error","flexDirection","preventDefault","then","graphQLErrors","message","i","color","marginBottom","uploadImage","objectFit","bottom","getUserParentHouses","createForm","CreateFormWrapper"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withStyles, fade } from \"@material-ui/core/styles\";\nimport { Mutation } from \"react-apollo\";\nimport {\n  Select,\n  Button,\n  Avatar,\n  IconButton,\n  Typography,\n  Fade,\n  Paper,\n  InputBase,\n  Divider\n} from \"@material-ui/core\";\nimport gql from \"graphql-tag\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport BuildingIcon from \"@material-ui/icons/Apartment\";\nimport { theme as customTheme } from \"../../../Page\";\nimport loadingImg from \"../../../../public/static/126.gif\";\nimport { Container, FlatButton, Input } from \"../../../styledComponents\";\nimport ParentHouses from \"../../../queryComponents/ParentHouses\";\nimport { GET_USER_PARENT_HOUSES } from \"../../../queryComponents/ParentHouses\";\nimport DeleteParentHouse from \"../DeleteParentHouse\";\n\nconst CREATE_PARENT_HOUSE_MUTATION = gql`\n  mutation CREATE_PARENT_HOUSE_MUTATION(\n    $building_name: String!\n    $address: String\n    $image: String\n  ) {\n    createParentHouse(\n      building_name: $building_name\n      address: $address\n      image: $image\n    ) {\n      id\n      building_name\n      address\n      image\n    }\n  }\n`;\n\nconst styles = theme => ({\n  list: {\n    width: \"100%\",\n    alignItems: \"center\"\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    maxWidth: 120\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  input: {\n    display: \"none\"\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(3),\n      width: \"auto\"\n    }\n  }\n});\n\nclass Buildings extends React.Component {\n  render() {\n    const { classes, buildings, create, showForm } = this.props;\n\n    return (\n      <Container column flex={1}>\n        <Container row space=\"space-between\" customStyles={{ padding: 10 }}>\n          <Paper component=\"form\" className={classes.root} elevation={0}>\n            <InputBase\n              className={classes.input}\n              placeholder=\"Search buildings\"\n              // inputProps={{ \"aria-label\": \"search google maps\" }}\n            />\n\n            <Divider className={classes.divider} orientation=\"vertical\" />\n            <IconButton\n              type=\"submit\"\n              className={classes.iconButton}\n              aria-label=\"search\"\n            >\n              <SearchIcon />\n            </IconButton>\n          </Paper>\n          <FlatButton\n            onClick={() => {\n              create();\n            }}\n          >\n            New Building\n          </FlatButton>\n        </Container>\n        <Container flex={1} column>\n          <Container\n            column\n            customStyles={{\n              width: \"100%\",\n              borderRadius: 2,\n              border: `1px solid ${fade(\"#393939\", 0.1)}`\n            }}\n          >\n            <Container row space=\"space-between\" customStyles={{ padding: 10 }}>\n              <span>Name</span>\n              <span>address</span>\n              <span>action</span>\n            </Container>\n            {buildings.map(building => {\n              return (\n                <Container\n                  key={building.id}\n                  row\n                  // color=\"#FEFEFF\"\n                  space=\"space-between\"\n                  customStyles={{\n                    padding: 10,\n                    cursor: \"pointer\",\n                    borderTop: `1px solid ${fade(\"#393939\", 0.1)}`,\n                    \"&:hover\": {\n                      backgroundColor: ` ${fade(\"#FEFEFF\", 1)}`\n                    }\n                  }}\n                >\n                  <span>{building.building_name}</span>\n                  <span>{building.address}</span>\n                  <Container row right center>\n                    <DeleteParentHouse id={building.id} />\n                  </Container>\n                </Container>\n              );\n            })}\n            <Container\n              row\n              center\n              customStyles={{\n                padding: 10,\n                borderTop: `1px solid ${fade(\"#393939\", 0.1)}`\n              }}\n              middle\n            >\n              <Typography>\n                {\"showing \" + buildings.length + \" result(s)\"}\n              </Typography>\n            </Container>\n          </Container>\n        </Container>\n      </Container>\n    );\n  }\n}\n\nconst BuildingsList = withStyles({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: 200\n  },\n  input: {\n    marginLeft: 10,\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    height: 28,\n    margin: 4\n  }\n})(Buildings);\nclass CreateParentHouse extends React.Component {\n  state = {\n    building_name: \"\",\n    address: \"\",\n    image: null,\n    showForm: false\n  };\n  createForm = () => {\n    this.setState({ showForm: true });\n  };\n  closeCreateForm = () => {\n    this.setState({ showForm: false });\n  };\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  uploadImage = async e => {\n    const files = e.target.files;\n    const data = new FormData();\n    data.append(\"file\", files[0]);\n    data.append(\"upload_preset\", \"house_assist\");\n\n    const res = await fetch(\n      \"https://api.cloudinary.com/v1_1/dsubmyluz/image/upload/\",\n      {\n        method: \"POST\",\n        body: data\n      }\n    );\n    const file = await res.json();\n\n    if (file) {\n      this.setState({\n        image: file.secure_url\n      });\n    }\n  };\n\n  CreateFormWrapper = () => {\n    const { building_name, address, image, showForm } = this.state;\n    const { classes } = this.props;\n    return (\n      <Fade in={showForm}>\n        <Container\n          flex={1}\n          column\n          customStyles={{ zIndex: 1305, paddingTop: 64 }}\n        >\n          <Container\n            row\n            center\n            space=\"space-between\"\n            customStyles={{\n              position: \"absolute\",\n              top: 0,\n              width: \"100%\",\n              paddingLeft: 10,\n              paddingRight: 15,\n              height: 64,\n              border: `0.5px solid ${fade(\"#393939\", 0.2)}`\n            }}\n          >\n            <div />\n            <Typography\n              variant=\"button\"\n              style={{ fontSize: 13, fontFamily: 400 }}\n            >\n              Create Building\n            </Typography>\n            <span\n              onClick={this.closeCreateForm}\n              style={{ fontSize: 30, fontWeight: 200, cursor: \"pointer\" }}\n            >\n              &times;\n            </span>\n          </Container>\n          <Container flex={1} column>\n            <Mutation\n              mutation={CREATE_PARENT_HOUSE_MUTATION}\n              refetchQueries={[{ query: GET_USER_PARENT_HOUSES }]}\n              variables={this.state}\n            >\n              {(createParentHouse, { loading, error }) => {\n                return (\n                  <Container flex={1} color=\"inherit\" role=\"presentation\">\n                    <form\n                      method=\"post\"\n                      style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        // justifyContent: \"center\",\n                        // alignItems: \"center\",\n                        flex: 1\n                      }}\n                      onSubmit={async e => {\n                        e.preventDefault();\n\n                        await createParentHouse().then(res => {\n                          this.closeCreateForm();\n                        });\n                        this.setState({\n                          building_name: \"\",\n                          address: \"\",\n                          image: null\n                          // showForm: false\n                        });\n                      }}\n                    >\n                      {error &&\n                        error.graphQLErrors.map(({ message }, i) => (\n                          <p key={i} style={{ color: \"red\" }}>\n                            {message}\n                          </p>\n                        ))}\n                      <Container column center>\n                        <Input\n                          type=\"text\"\n                          name=\"building\"\n                          label=\"building name\"\n                          value={building_name}\n                          style={{\n                            width: \"50%\",\n                            marginTop: 40,\n                            marginBottom: 20\n                          }}\n                          onChange={e => {\n                            this.setState({ building_name: e.target.value });\n                          }}\n                        />\n                        <Container row>\n                          <Input\n                            accept=\"image/*\"\n                            id=\"text-button-file\"\n                            multiple\n                            type=\"file\"\n                            // value={image}\n                            onChange={this.uploadImage}\n                          />\n                          {image !== null && (\n                            <img\n                              src={image}\n                              style={{\n                                width: 40,\n                                height: 35,\n                                objectFit: \"fit\"\n                              }}\n                            />\n                          )}\n                        </Container>\n                      </Container>\n\n                      <Container\n                        right\n                        center\n                        row\n                        flex={1}\n                        space=\"space-between\"\n                        customStyles={{\n                          position: \"absolute\",\n                          bottom: 0,\n                          marginTop: 15,\n                          padding: 10,\n                          borderTop: `0.5px solid ${fade(\"#393939\", 0.2)}`,\n                          width: \"100%\"\n                        }}\n                      >\n                        <FlatButton type=\"submit\">\n                          {loading ? (\n                            <img\n                              src={loadingImg}\n                              style={{ width: 20, height: 20 }}\n                            />\n                          ) : (\n                            \"Save\"\n                          )}\n                        </FlatButton>\n                      </Container>\n                    </form>\n                  </Container>\n                );\n              }}\n            </Mutation>\n          </Container>\n        </Container>\n      </Fade>\n    );\n  };\n  render() {\n    const { classes } = this.props;\n    const { showForm } = this.state;\n    return (\n      <Container flex={1}>\n        {!showForm && (\n          <ParentHouses>\n            {({ data, loading }) => {\n              if (data) {\n                const buildings = data.getUserParentHouses;\n                if (buildings.length !== 0) {\n                  return (\n                    <BuildingsList\n                      buildings={buildings}\n                      create={this.createForm}\n                      showForm={showForm}\n                    />\n                  );\n                }\n                if (buildings.length === 0) {\n                  return (\n                    <Container flex={1}>\n                      <Container\n                        flex={1}\n                        column\n                        middle\n                        center\n                        customStyles={{ paddingTop: 64 }}\n                      >\n                        <BuildingIcon style={{ fontSize: 60, color: \"gray\" }} />\n                        <Typography\n                          variant=\"button\"\n                          style={{\n                            fontSize: 18,\n                            color: \"black\",\n                            fontWeight: 600,\n                            marginTop: 15\n                          }}\n                        >\n                          Add New Building\n                        </Typography>\n                        <Typography\n                          style={{\n                            fontSize: 13,\n                            fontWeight: 200,\n                            marginTop: 10\n                          }}\n                        >\n                          You have more than one house with in a\n                        </Typography>\n                        <Typography\n                          style={{\n                            fontSize: 13,\n                            fontWeight: 200,\n                            marginBottom: 15\n                          }}\n                        >\n                          single building, add them in to a building\n                        </Typography>\n                        <FlatButton onClick={this.createForm}>\n                          Add Building\n                        </FlatButton>\n                      </Container>\n                    </Container>\n                  );\n                }\n              }\n\n              if (loading) {\n                return (\n                  <Container flex={1} middle center>\n                    <img src={loadingImg} style={{ width: 25, height: 25 }} />\n                  </Container>\n                );\n              }\n              return null;\n            }}\n          </ParentHouses>\n        )}\n        {this.CreateFormWrapper()}\n      </Container>\n    );\n  }\n}\n\nexport default withStyles(styles)(CreateParentHouse);\n"]},"metadata":{},"sourceType":"module"}