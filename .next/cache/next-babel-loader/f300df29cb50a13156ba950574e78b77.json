{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query SEARCH_TENANT_QUERY($searchTerm: String!) {\\n    searchUserTenants(searchTerm: $searchTerm) {\\n      id\\n      firstName\\n      lastName\\n      isActive\\n      sex\\n      comm_email\\n      tel_no\\n      profileImage\\n      registeredBy {\\n        id\\n      }\\n      houseId {\\n        id\\n        house_no\\n      }\\n      stay_duration\\n      from_date\\n      street\\n      updatedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport Downshift from \"downshift\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport debounce from \"lodash.debounce\";\nimport { SearchInput, Container } from \"../styledComponents\";\nvar SearchBox = styled(Container).withConfig({\n  displayName: \"SearchTenants__SearchBox\",\n  componentId: \"d3456b-0\"\n})([\"display:flex;flex-direction:row;align-items:center;padding-right:10px;background-color:white;height:32px;padding:0px 5px;min-width:150px;margin-left:7px;margin-right:10px;\"]);\nvar SEARCH_TENANT_QUERY = gql(_templateObject());\n\nvar AutoComplete = function AutoComplete(_ref) {\n  var setFound = _ref.setFound,\n      setLoading = _ref.setLoading;\n\n  var _onChange = debounce(function _callee(e, client) {\n    var res, tenants;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(client.query({\n              query: SEARCH_TENANT_QUERY,\n              variables: {\n                searchTerm: e.target.value\n              }\n            }));\n\n          case 3:\n            res = _context.sent;\n            tenants = res.data.searchUserTenants; // console.log(res);\n\n            setFound(tenants);\n            setLoading(false);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, 350);\n\n  return __jsx(SearchBox, null, __jsx(ApolloConsumer, null, function (client) {\n    return __jsx(SearchInput, {\n      type: \"search\",\n      onChange: function onChange(e) {\n        e.persist();\n\n        _onChange(e, client);\n      },\n      customStyles: {\n        fontSize: 15,\n        height: \"100%\",\n        lineHeight: 1,\n        padding: 0,\n        width: \"100%\",\n        border: 0,\n        backgroundColor: \"white\"\n      }\n    });\n  }));\n};\n\nexport default AutoComplete;","map":null,"metadata":{},"sourceType":"module"}