{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport gql from \"graphql-tag\";\nimport React from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport loadingImg from \"../../../public/static/126.gif\";\nimport { CURRENT_LANDLORD } from \"../../queryComponents/Landlord\";\nimport { Container, FlatButton, Input } from \"../../styledComponents\";\nconst CREATE_LANDLORD_MUTATION = gql`\n  mutation CREATE_LANDLORD_MUTATION(\n    $firstName: String!\n    $lastName: String!\n    $tel_no: String! # $countryId: ID # $provinceId: ID # $districtId: ID # $sectorId: ID\n  ) {\n    createLandlord(\n      firstName: $firstName\n      lastName: $lastName\n      tel_no: $tel_no # countryId: $countryId # provinceId: $provinceId # districtId: $districtId # sectorId: $sectorId\n    ) {\n      id\n      firstName\n      lastName\n      tel_no\n      # countryId {\n      #   id\n      #   name\n      # }\n      # provinceId {\n      #   id\n      #   name\n      # }\n      # districtId {\n      #   id\n      #   name\n      # }\n      # sectorId {\n      #   id\n      #   name\n      # }\n    }\n  }\n`;\n\nclass CreateProfile extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      firstName: \"\",\n      lastName: \"\",\n      tel_no: \"\" // countryId: \"\",\n      // provinceId: \"\",\n      // districtId: \"\",\n      // sectorId: \"\"\n\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    });\n  }\n\n  render() {\n    const {\n      firstName,\n      lastName,\n      tel_no\n    } = this.state;\n    return __jsx(Mutation, {\n      mutation: CREATE_LANDLORD_MUTATION,\n      variables: this.state,\n      refetchQueries: [{\n        query: CURRENT_LANDLORD\n      }]\n    }, (createLandlord, {\n      loading,\n      error\n    }) => {\n      return __jsx(Container, {\n        flex: 1 // middle\n        // center\n        ,\n        column: true,\n        customStyles: {\n          padding: 40,\n          minHeight: \"50vh\"\n        }\n      }, __jsx(Container, {\n        middle: true,\n        center: true\n      }, __jsx(\"h2\", null, \"Your Profile\")), __jsx(Container, {\n        middle: true,\n        center: true\n      }, __jsx(\"form\", {\n        method: \"post\",\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        onSubmit: async e => {\n          e.preventDefault();\n          await createLandlord();\n          this.setState({\n            firstName: \"\",\n            lastName: \"\",\n            tel_no: \"\" // countryId: \"\",\n            // provinceId: \"\",\n            // districtId: \"\",\n            // sectorId: \"\"\n\n          });\n        }\n      }, __jsx(\"fieldset\", {\n        disabled: loading,\n        \"aria-busy\": loading,\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          border: \"none\",\n          width: 200\n        }\n      }, error && error.graphQLErrors.map(({\n        message\n      }, i) => __jsx(\"p\", {\n        key: i,\n        style: {\n          color: \"red\"\n        }\n      }, message)), __jsx(Input, {\n        id: \"first_name\",\n        label: \"First name\",\n        type: \"text\",\n        name: \"firstName\",\n        placeholder: \"enter first name\",\n        value: firstName,\n        onChange: e => {\n          this.setState({\n            firstName: e.target.value\n          });\n        }\n      }), __jsx(Input, {\n        id: \"last_name\",\n        label: \"Last name\",\n        type: \"text\",\n        name: \"lastName\",\n        value: lastName,\n        onChange: e => {\n          this.setState({\n            lastName: e.target.value\n          });\n        }\n      }), __jsx(Input, {\n        id: \"tel\",\n        label: \"Tel No.\",\n        type: \"text\",\n        name: \"tel_no\",\n        value: tel_no,\n        onChange: e => {\n          this.setState({\n            tel_no: e.target.value\n          });\n        }\n      })), __jsx(Container, {\n        space: \"space-between\",\n        row: true,\n        center: true,\n        right: true,\n        customStyles: {\n          paddingLeft: 10,\n          paddingRight: 10\n        }\n      }, __jsx(Container, null, __jsx(FlatButton, {\n        type: \"submit\"\n      }, loading ? __jsx(\"img\", {\n        src: loadingImg,\n        style: {\n          width: 20,\n          height: 20\n        },\n        alt: \"loading...\"\n      }) : \"Save\"))))));\n    });\n  }\n\n}\n\nexport default CreateProfile;","map":null,"metadata":{},"sourceType":"module"}