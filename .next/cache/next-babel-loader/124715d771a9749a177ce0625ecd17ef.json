{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/mac/Projects/React js/House /HouseAssist/frontend/components/landlord/Sign_in.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation LOGIN_MUTATION($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      id\\n      user_name\\n      email\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Router from \"next/router\";\nimport hasLogo from \"../../public/static/HAS.png\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"../queryComponents/User\";\nimport { Divider } from \"@material-ui/core\";\nimport { Container, Input, PrimaryButton, ActionButton, SubHeader } from \"../styledComponents\";\nimport loadingImg from \"../../public/static/126.gif\";\nvar LOGIN_MUTATION = gql(_templateObject());\nvar styles = {\n  divider: {\n    height: 3,\n    width: \"20%\",\n    margin: 4,\n    backgroundColor: \"#0078D4\"\n  }\n};\n\nvar Sign_in = /*#__PURE__*/function (_React$Component) {\n  _inherits(Sign_in, _React$Component);\n\n  var _super = _createSuper(Sign_in);\n\n  function Sign_in() {\n    var _this;\n\n    _classCallCheck(this, Sign_in);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      email: \"\",\n      password: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    return _this;\n  }\n\n  _createClass(Sign_in, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      return __jsx(Container, {\n        flex: 1,\n        column: true,\n        color: \"#EAECEE\",\n        customStyles: {\n          height: \"100%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }\n      }, __jsx(Container, {\n        middle: true,\n        center: true,\n        flex: 1,\n        color: \"#EAECEE\",\n        column: true,\n        customStyles: {\n          minHeight: \"100vh\",\n          paddingTop: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, __jsx(Container, {\n        depth: 16,\n        flex: 0.6,\n        column: true,\n        customStyles: {\n          width: \"35%\",\n          borderRadius: 5,\n          paddingLeft: 40,\n          paddingRight: 40\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, __jsx(Container, {\n        middle: true,\n        center: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, __jsx(\"img\", {\n        src: hasLogo,\n        style: {\n          width: \"25%\",\n          height: \"25%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }\n      })), __jsx(Container, {\n        column: true,\n        middle: true,\n        center: true,\n        flex: 0.2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, __jsx(SubHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      }, \"Please Login\"), __jsx(Divider, {\n        className: this.props.classes.divider,\n        orientation: \"horizontal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      })), __jsx(Mutation, {\n        mutation: LOGIN_MUTATION,\n        variables: this.state,\n        refetchQueries: [{\n          query: CURRENT_USER_QUERY\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, function (login, _ref) {\n        var error = _ref.error,\n            loading = _ref.loading;\n        return __jsx(\"form\", {\n          style: {\n            position: \"relative\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            flex: 0.8\n          },\n          method: \"post\",\n          onSubmit: function _callee(e) {\n            var res;\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    e.preventDefault();\n                    _context.next = 3;\n                    return _regeneratorRuntime.awrap(login());\n\n                  case 3:\n                    res = _context.sent;\n\n                    if (res) {\n                      Router.replace(\"/landlord/dashboard\");\n                    }\n\n                    _this2.setState({\n                      email: \"\",\n                      password: \"\"\n                    });\n\n                  case 6:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 19\n          }\n        }, __jsx(\"fieldset\", {\n          disabled: loading,\n          \"aria-busy\": loading,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            border: \"none\",\n            width: \"100%\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 21\n          }\n        }, error && error.graphQLErrors.map(function (_ref2, i) {\n          var message = _ref2.message;\n          return __jsx(\"p\", {\n            key: i,\n            style: {\n              color: \"red\"\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 27\n            }\n          }, message);\n        }), __jsx(Container, {\n          flex: 1,\n          middle: true,\n          center: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 23\n          }\n        }, __jsx(Input, {\n          id: \"email\",\n          label: \"E-mail\",\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"enter email\",\n          style: {\n            marginBottom: 10,\n            width: 300\n          },\n          value: email,\n          onChange: _this2.handleChange,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }\n        })), __jsx(Container, {\n          middle: true,\n          center: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 23\n          }\n        }, __jsx(Input, {\n          id: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"enter password\",\n          style: {\n            marginBottom: 10,\n            width: 300\n          },\n          value: password,\n          onChange: _this2.handleChange,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }\n        }))), __jsx(Container, {\n          space: \"space-between\",\n          row: true,\n          center: true,\n          customStyles: {\n            width: \"100%\",\n            // position: \"absolute\",\n            backgroundColor: \"transparent\",\n            // bottom: 0,\n            paddingLeft: 35,\n            paddingRight: 35\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }\n        }, __jsx(Link, {\n          href: \"/landlord/signup\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 23\n          }\n        }, __jsx(\"a\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }\n        }, __jsx(ActionButton, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 27\n          }\n        }, \"Create account\"))), __jsx(Container, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 23\n          }\n        }, __jsx(PrimaryButton, {\n          type: \"submit\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }\n        }, loading ? __jsx(\"img\", {\n          src: loadingImg,\n          style: {\n            width: 20,\n            height: 20\n          },\n          alt: \"loading...\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 29\n          }\n        }) : \"Login\"))));\n      }))));\n    }\n  }]);\n\n  return Sign_in;\n}(React.Component);\n\nexport default withStyles(styles)(Sign_in);","map":{"version":3,"sources":["/Users/mac/Projects/React js/House /HouseAssist/frontend/components/landlord/Sign_in.js"],"names":["React","Link","withStyles","Router","hasLogo","Mutation","gql","CURRENT_USER_QUERY","Divider","Container","Input","PrimaryButton","ActionButton","SubHeader","loadingImg","LOGIN_MUTATION","styles","divider","height","width","margin","backgroundColor","Sign_in","email","password","e","setState","target","name","value","state","minHeight","paddingTop","borderRadius","paddingLeft","paddingRight","props","classes","query","login","error","loading","position","display","flexDirection","justifyContent","flex","preventDefault","res","replace","border","graphQLErrors","map","i","message","color","marginBottom","handleChange","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Router from \"next/router\";\nimport hasLogo from \"../../public/static/HAS.png\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"../queryComponents/User\";\nimport { Divider } from \"@material-ui/core\";\nimport {\n  Container,\n  Input,\n  PrimaryButton,\n  ActionButton,\n  SubHeader\n} from \"../styledComponents\";\nimport loadingImg from \"../../public/static/126.gif\";\n\nconst LOGIN_MUTATION = gql`\n  mutation LOGIN_MUTATION($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      id\n      user_name\n      email\n    }\n  }\n`;\n\nconst styles = {\n  divider: {\n    height: 3,\n    width: \"20%\",\n    margin: 4,\n    backgroundColor: \"#0078D4\"\n  }\n};\n\nclass Sign_in extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  render() {\n    const { email, password } = this.state;\n    return (\n      <Container\n        flex={1}\n        column\n        color=\"#EAECEE\"\n        customStyles={{ height: \"100%\" }}\n      >\n        <Container\n          middle\n          center\n          flex={1}\n          color=\"#EAECEE\"\n          column\n          customStyles={{ minHeight: \"100vh\", paddingTop: 60 }}\n        >\n          <Container\n            depth={16}\n            flex={0.6}\n            column\n            customStyles={{\n              width: \"35%\",\n              borderRadius: 5,\n              paddingLeft: 40,\n              paddingRight: 40\n            }}\n          >\n            <Container middle center>\n              <img src={hasLogo} style={{ width: \"25%\", height: \"25%\" }} />\n            </Container>\n            <Container column middle center flex={0.2}>\n              <SubHeader>Please Login</SubHeader>\n              <Divider\n                className={this.props.classes.divider}\n                orientation=\"horizontal\"\n              />\n            </Container>\n            <Mutation\n              mutation={LOGIN_MUTATION}\n              variables={this.state}\n              refetchQueries={[{ query: CURRENT_USER_QUERY }]}\n            >\n              {(login, { error, loading }) => {\n                return (\n                  <form\n                    style={{\n                      position: \"relative\",\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      justifyContent: \"center\",\n                      flex: 0.8\n                    }}\n                    method=\"post\"\n                    onSubmit={async e => {\n                      e.preventDefault();\n                      const res = await login();\n                      if (res) {\n                        Router.replace(\"/landlord/dashboard\");\n                      }\n                      this.setState({ email: \"\", password: \"\" });\n                    }}\n                  >\n                    <fieldset\n                      disabled={loading}\n                      aria-busy={loading}\n                      style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        border: \"none\",\n                        width: \"100%\"\n                      }}\n                    >\n                      {error &&\n                        error.graphQLErrors.map(({ message }, i) => (\n                          <p key={i} style={{ color: \"red\" }}>\n                            {message}\n                          </p>\n                        ))}\n\n                      <Container flex={1} middle center>\n                        <Input\n                          id=\"email\"\n                          label=\"E-mail\"\n                          type=\"email\"\n                          name=\"email\"\n                          placeholder=\"enter email\"\n                          style={{ marginBottom: 10, width: 300 }}\n                          value={email}\n                          onChange={this.handleChange}\n                        />\n                      </Container>\n\n                      <Container middle center>\n                        <Input\n                          id=\"password\"\n                          label=\"Password\"\n                          type=\"password\"\n                          name=\"password\"\n                          placeholder=\"enter password\"\n                          style={{ marginBottom: 10, width: 300 }}\n                          value={password}\n                          onChange={this.handleChange}\n                        />\n                      </Container>\n                    </fieldset>\n                    <Container\n                      space=\"space-between\"\n                      row\n                      center\n                      customStyles={{\n                        width: \"100%\",\n                        // position: \"absolute\",\n                        backgroundColor: \"transparent\",\n                        // bottom: 0,\n                        paddingLeft: 35,\n                        paddingRight: 35\n                      }}\n                    >\n                      <Link href=\"/landlord/signup\">\n                        <a>\n                          <ActionButton>Create account</ActionButton>\n                        </a>\n                      </Link>\n                      <Container>\n                        <PrimaryButton type=\"submit\">\n                          {loading ? (\n                            <img\n                              src={loadingImg}\n                              style={{ width: 20, height: 20 }}\n                              alt=\"loading...\"\n                            />\n                          ) : (\n                            \"Login\"\n                          )}\n                        </PrimaryButton>\n                      </Container>\n                    </Container>\n                  </form>\n                );\n              }}\n            </Mutation>\n          </Container>\n        </Container>\n      </Container>\n    );\n  }\n}\nexport default withStyles(styles)(Sign_in);\n"]},"metadata":{},"sourceType":"module"}