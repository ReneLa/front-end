{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{\"7h5s\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return Z}));var r=n(\"Ff2n\"),o=n(\"KQm4\"),a=n(\"ODXe\"),i=n(\"h4VS\"),l=n(\"q1tI\"),c=n.n(l),s=n(\"vOnD\"),d=n(\"vbcS\"),u=n(\"6L5Y\"),p=n(\"CarD\"),g=n.n(p),f=n(\"8C4M\"),m=n.n(f),h=n(\"x1ji\"),y=n.n(h),S=n(\"lTCR\"),b=n.n(S),w=n(\"YdRN\"),x=n(\"o0o1\"),v=n.n(x),k=n(\"rePB\"),T=n(\"lqOT\"),C=n(\"R/WZ\"),O=n(\"tr08\"),_=n(\"kfFl\"),j=n(\"yv+Y\"),E=n(\"EQI2\"),R=n(\"hwPB\"),F=n(\"bzWV\"),I=n(\"lopY\"),B=c.a.createElement;function A(){var e=Object(i.a)([\"\\n  mutation CREATE_TICKET_MUTATION(\\n    $title: String!\\n    $description: String!\\n    $reported_way: String\\n    $owner_review: String\\n    $houseId: ID\\n  ) {\\n    createTicket(\\n      title: $title\\n      description: $description\\n      reported_way: $reported_way\\n      owner_review: $owner_review\\n      houseId: $houseId\\n    ) {\\n      id\\n    }\\n  }\\n\"]);return A=function(){return e},e}var D=Object(C.a)((function(e){return Object(k.a)({dialogPaper:{height:700,width:550,borderRadius:2,backgroundColor:\"#F2F3F4\"},dialogActionStyle:{padding:0,margin:0,border:\"none\",backgroundColor:\"#F2F3F4\"},inputStyle:{border:0,borderRadius:1,paddingTop:10,paddingRight:10,paddingBottom:10,paddingLeft:10,backgroundColor:\"#F5F8FA\",minHeight:60,fontSize:12,\"&:focus\":{border:\"1px solid #4C3AF7\",backgroundColor:\"#FEFEFF\"}},dialogActions:{width:\"100%\",padding:0,margin:0,border:\"none\"},dialogContentStyle:{display:\"flex\",flexDirection:\"row\",marginRight:10,height:\"100%\",backgroundColor:\"white\",border:\"none\"},avatarStyle:{position:\"relative\",width:e.spacing(12),height:e.spacing(10),borderRadius:5,backgroundColor:\"#F3F2F1\"}},\"inputStyle\",{border:0,borderRadius:1,paddingTop:10,paddingRight:10,paddingBottom:10,paddingLeft:10,backgroundColor:\"#F5F8FA\",minHeight:60,fontSize:12,\"&:focus\":{border:\"1px solid #4C3AF7\",backgroundColor:\"#FEFEFF\"}})})),L=Object(s.d)(u.a).withConfig({displayName:\"CreateTicket__ActionBtn\",componentId:\"sc-1d91g92-0\"})([\"display:flex;justify-content:center;align-items:center;align-content:center;padding-right:10px;padding-left:10px;border-radius:2px;background-color:\",\";\"],(function(e){return e.theme.lightGrey})),N=(Object(s.d)(u.a).withConfig({displayName:\"CreateTicket__CloseBtn\",componentId:\"sc-1d91g92-1\"})([\"position:absolute;top:0;right:0;z-index:1304;display:flex;justify-content:center;align-items:center;align-content:center;padding-right:6px;padding-left:6px;border-radius:2px;background-color:\",\";\"],(function(e){return e.theme.bgPrimary})),Object(s.d)(u.l).withConfig({displayName:\"CreateTicket__CancelBtn\",componentId:\"sc-1d91g92-2\"})([\"border:none;color:\",\";background-color:transparent;&:hover{background-color:\",\";}\"],(function(e){return e.theme.primaryDark}),(function(e){return e.theme.lightGrey}))),$=b()(A()),z=function(e){var t=e.reportWay,n=e.setReportWay,r=c.a.useState(null),o=Object(a.a)(r,2),i=o[0],s=o[1],d=Object(l.useState)([{id:1,value:\"System\"},{id:2,value:\"Phone\"},{id:3,value:\"Email\"},{id:4,value:\"In person\"}]),p=d[0];d[1];return B(u.e,{title:t.length>0?B(\"div\",null,t.map((function(e){return B(\"span\",{key:e.id},e.value+\", \")}))):\"choose\",anchorEl:i,handleOpen:function(e){s(e.currentTarget)},handleClose:function(){s(null)},selection:t,setSelection:n,items:p,wrapperStyles:{width:120}})},q=function(e){var t=e.house,n=e.setHouse,r=c.a.useState(null),o=Object(a.a)(r,2),i=o[0],s=o[1],d=Object(l.useState)([]),p=d[0],g=d[1],f=Object(l.useState)(!1),m=(f[0],f[1]);var h=function(e){var t=[];return e.forEach((function(e,n){var r={id:e.id,value:e.house_heading};t.push(r)})),t},y=function(){s(null)};return B(T.a,null,(function(e){return B(u.d,{column:!0,color:\"transparent\",customStyles:{marginRight:10,marginBottom:10}},B(u.e,{title:t.length>0?t[0].value:\"Add House\",anchorEl:i,handleOpen:function(t){return function(e,t){var n,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return m(!0),s(e.currentTarget),o.next=4,v.a.awrap(t.query({query:F.a}));case 4:n=o.sent,r=n.data.getUserHouses,g(h(r)),console.log(r);case 8:case\"end\":return o.stop()}}),null,null,null,Promise)}(t,e)},handleClose:y,selection:t,setSelection:n,items:p,wrapperStyles:{width:100}}))}))},P=function(){var e=D(),t=Object(O.a)(),n=Object(l.useState)(!1),r=n[0],o=n[1],a=Object(l.useState)([]),i=a[0],c=a[1],s=Object(l.useState)(\"paper\"),p=s[0],g=(s[1],Object(I.a)(t.breakpoints.down(\"sm\"))),f=Object(l.useState)(null),m=f[0],h=f[1],y=Object(l.useState)(null),S=y[0],b=y[1],w=Object(l.useState)(null),x=w[0],k=w[1],T=Object(l.useState)([]),C=T[0],F=T[1],A=function(){o(!0)},P=function(){o(!1)},W=new Date;W.setDate(W.getDate()+3);W.toISOString().substr(0,10);return B(d.a,{mutation:$,refetchQueries:[{query:R.a}],variables:{title:m,description:S,reported_way:i.length>0?i[0].value:\"\",owner_review:x,houseId:C.length>0?C[0].id:\"\"}},(function(t,n){var o=n.loading;n.error;return B(\"div\",null,B(L,{onClick:A},\"Create Ticket\"),B(_.a,{fullScreen:g,onClose:P,classes:{paper:e.dialogPaper},\"aria-labelledby\":\"customized-dialog-title\",open:r,scroll:p},B(j.a,{id:\"scroll-dialog-title\",classes:{root:e.dialogActionStyle}},B(u.d,{row:!0,center:!0,color:\"transparent\",space:\"space-between\",customStyles:{paddingTop:15,paddingBottom:7,paddingRight:10,paddingLeft:20}},B(u.n,null,\" Create Ticket\"),B(N,{onClick:P},\"Cancel\"))),B(\"form\",{method:\"post\",onSubmit:function(e){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,v.a.awrap(t().then((function(e){P()})).catch((function(e){alert(e)})));case 3:case\"end\":return n.stop()}}),null,null,null,Promise)},style:{display:\"flex\",flexDirection:\"row\",paddingLeft:20,paddingRight:20,paddingTop:10,paddingBottom:10}},B(E.a,{dividers:\"body\"===p,style:{flex:1},classes:{root:e.dialogContentStyle}},B(\"div\",{style:{flex:1,width:\"100%\"}},B(u.d,{row:!0,center:!0,color:\"transparent\"},B(u.b,{customStyles:{color:\"#323130\",fontWeight:\"600\",marginBottom:10}},\"Ticket Information\")),B(u.d,{color:\"transparent\",row:!0,space:\"space-between\"},B(u.d,{flex:.7,customStyles:{paddingRight:10},color:\"transparent\"},B(u.i,{placeholder:\"Ticket title..\",type:\"text\",value:m,onChange:function(e){return h(e.target.value)}})),B(u.d,{color:\"transparent\",flex:.3,customStyles:{paddingLeft:10}})),B(u.d,{color:\"transparent\",column:!0,flex:!1,customStyles:{width:\"100%\"}},B(u.b,{customStyles:{marginBottom:5,color:\"#323130\"}},\"Description\"),B(\"textarea\",{type:\"text\",placeholder:\"start typing here...\",className:e.inputStyle,value:S,onChange:function(e){return b(e.target.value)}})),B(u.d,{row:!0,flex:1,customStyles:{marginTop:10},color:\"transparent\"},B(u.d,{column:!0,flex:.5,color:\"transparent\",customStyles:{paddingRight:5}},B(u.d,{row:!0,center:!0,color:\"transparent\"},B(u.b,{customStyles:{color:\"#323130\",fontWeight:\"600\",marginBottom:8,marginTop:15}},\"Landlord Review\")),B(u.d,{color:\"transparent\",column:!0,flex:!1,customStyles:{width:\"100%\"}},B(\"textarea\",{type:\"text\",placeholder:\"start typing here...\",className:e.inputStyle,value:x,onChange:function(e){return k(e.target.value)}}))),B(u.d,{column:!0,flex:.5,color:\"transparent\",customStyles:{paddingLeft:5}},B(u.d,{row:!0,center:!0,color:\"transparent\"},B(u.b,{customStyles:{color:\"#323130\",fontWeight:\"600\",marginBottom:8,marginTop:15}},\"Agent Review\")),B(u.d,{color:\"transparent\",column:!0,flex:!1,customStyles:{width:\"100%\"}},B(\"textarea\",{type:\"text\",disabled:!0,placeholder:\"start typing here...\",className:e.inputStyle})))),B(u.d,{color:\"transparent\",row:!0,flex:0},B(u.d,{color:\"transparent\",customStyles:{paddingRight:5},flex:.3},B(u.d,{flex:0,row:!0,center:!0,color:\"transparent\"},B(u.b,{customStyles:{color:\"#323130\",fontWeight:\"600\",marginBottom:8,marginTop:15}},\"Add House\")),B(u.d,{flex:0,row:!0,center:!0,color:\"transparent\"},B(q,{house:C,setHouse:F}))),B(u.d,{color:\"transparent\",customStyles:{paddingRight:5},flex:.3},B(u.d,{flex:0,row:!0,center:!0,color:\"transparent\"},B(u.b,{customStyles:{color:\"#323130\",fontWeight:\"600\",marginBottom:8,marginTop:15}},\"Reported way\")),B(u.d,{flex:0,row:!0,center:!0,color:\"transparent\"},B(z,{reportWay:i,setReportWay:c})))),B(u.d,{color:\"transparent\",right:!0,center:!0,row:!0,flex:!1,customStyles:{paddingTop:30,paddingBottom:5}},B(u.l,{type:\"submit\",customStyles:{pointerEvents:C.length<=0?\"none\":\"auto\",opacity:C.length<=0?.5:1}},o?\"saving\":\"Save Ticket\")))))))}))},W=n(\"UIRo\"),H=n(\"9/5/\"),U=n.n(H),Y=c.a.createElement;function Q(){var e=Object(i.a)([\"\\n  query SEARCH_TICKET_QUERY($searchTerm: String!) {\\n    searchUserTickets(searchTerm: $searchTerm) {\\n      id\\n      title\\n      description\\n      isClosed\\n      reported_way\\n      reported_date\\n      assignedDate\\n      reported_by {\\n        id\\n        user_name\\n        userType\\n      }\\n      houseId {\\n        id\\n        house_heading\\n        house_description\\n        house_no\\n      }\\n    }\\n  }\\n\"]);return Q=function(){return e},e}var G=Object(s.d)(u.d).withConfig({displayName:\"SearchTicket__SearchBox\",componentId:\"oq8ihl-0\"})([\"display:flex;flex-direction:row;align-items:center;padding-right:10px;background-color:white;height:32px;padding:0px 5px;min-width:150px;margin-left:7px;margin-right:10px;\"]),K=b()(Q()),M=function(e){var t=e.setFound,n=e.setLoading,r=U()((function(e,r){var o,a;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n(!0),i.next=3,v.a.awrap(r.query({query:K,variables:{searchTerm:e.target.value}}));case 3:o=i.sent,a=o.data.searchUserTickets,t(a),n(!1);case 7:case\"end\":return i.stop()}}),null,null,null,Promise)}),350);return Y(G,null,Y(T.a,null,(function(e){return Y(u.m,{type:\"search\",onChange:function(t){t.persist(),r(t,e)},customStyles:{fontSize:15,height:\"100%\",lineHeight:1,padding:0,width:\"100%\",border:0,backgroundColor:\"white\"}})})))},V=c.a.createElement;function J(){var e=Object(i.a)([\"\\n  query PAGINATION_QUERY {\\n    ticketsConnection {\\n      aggregate {\\n        count\\n      }\\n    }\\n  }\\n\"]);return J=function(){return e},e}s.d.div.withConfig({displayName:\"AllTickets__Tag\",componentId:\"sc-193fov5-0\"})([\"display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:20px;background-color:#e1e1e1;padding:4px 15px;margin:0px 5px;\"]);var X=Object(s.d)(u.h).withConfig({displayName:\"AllTickets__PageBtn\",componentId:\"sc-193fov5-1\"})([\"display:flex;justify-content:center;align-items:center;align-content:center;border:none;margin-right:5px;height:33px;width:33px;\",\"\"],(function(e){return e.activeStyles})),Z=b()(J()),ee=function(e){var t=e.setSkip,n=c.a.useState(1),r=Object(a.a)(n,2),i=r[0],l=r[1];return V(d.b,{query:Z},(function(e){var n=e.data;e.loading,e.error;if(n){var r=n.ticketsConnection.aggregate.count,a=Math.ceil(r/W.b),c=i<=1,s=i>=a;return V(u.d,{flex:1,row:!0,middle:!0,customStyles:{paddingTop:10,paddingBottom:25}},V(u.h,{onClick:function(){return l(i-1),void t(i-1)},customStyles:{border:\"1px solid #E1E1E1\",marginRight:10,height:33,width:33,pointerEvents:c?\"none\":\"auto\",opacity:c?.6:1}},V(g.a,{style:{fontSize:25}})),Object(o.a)(Array(a)).map((function(e,n){var r=n+1;return V(X,{key:n,onClick:function(){l(r),t(r)},activeStyles:{backgroundColor:r===i?\"#E1E1E1\":\"transparent\",pointerEvents:r===i?\"none\":\"auto\"}},V(\"span\",null,r))})),V(u.h,{onClick:function(){return l(i+1),void t(i+1)},customStyles:{border:\"1px solid #E1E1E1\",height:33,width:33,marginLeft:5,pointerEvents:s?\"none\":\"auto\",opacity:s?.6:1}},V(m.a,{style:{fontSize:25}})))}return null}))};t.b=function(e){var t=e.tickets,n=e.setSkip,o=(Object(r.a)(e,[\"tickets\",\"setSkip\"]),c.a.useState({})),i=Object(a.a)(o,2),l=(i[0],i[1]),s=c.a.useState(!0),d=Object(a.a)(s,2),p=d[0],g=(d[1],c.a.useState(!1)),f=Object(a.a)(g,2),m=(f[0],f[1]),h=c.a.useState(!1),S=Object(a.a)(h,2),b=(S[0],S[1]),x=c.a.useState(null),v=Object(a.a)(x,2),k=v[0],T=v[1],C=function(e){l(e),m(!0)},O=function(){m(!1),l({})};return console.log(t),V(u.d,{flex:1,customStyles:{paddingTop:10,paddingLeft:30,paddingRight:30}},V(u.d,{flex:0,row:!0,center:!0,customStyles:{paddingLeft:15,paddingRight:15}},t&&t.length>0&&V(ee,{setSkip:n}),V(M,{setLoading:b,setFound:T}),V(P,null)),V(u.d,{flex:0,row:!0,center:!0,customStyles:{paddingLeft:15,paddingRight:15}},V(u.d,{center:!0,row:!0,flex:.1,color:\"transparent\"},V(u.p,{customStyles:{fontSize:14}},\"No.\")),V(u.d,{center:!0,row:!0,flex:.2,color:\"transparent\"},V(u.p,{customStyles:{fontSize:14}},\"Date\")),V(u.d,{center:!0,row:!0,flex:.2,color:\"transparent\"},V(u.p,{customStyles:{fontSize:15}},\"Title\")),V(u.d,{center:!0,row:!0,flex:.2,color:\"transparent\"},V(u.p,{customStyles:{fontSize:15}},\"House\")),V(u.d,{center:!0,row:!0,flex:.2,color:\"transparent\"},V(u.p,{customStyles:{fontSize:15}},\"Status\")),V(u.d,{center:!0,row:!0,right:!0,flex:.1,color:\"transparent\"},V(u.p,{customStyles:{fontSize:15}},\"Actions\"))),null===k&&V(c.a.Fragment,null,V(u.d,{customStyles:{paddingTop:10,flexDirection:p?\"column\":\"row\"}},t&&t.map((function(e,t){var n=t+1;return V(w.a,{list:p,key:e.id,num:n,ticket:e,handleClose:O,handleOpen:C})}))),t&&t.length<=0&&V(u.d,{flex:1,column:!0,center:!0,middle:!0,customStyles:{minHeight:300}},V(u.n,{customStyles:{marginBottom:20}},\"No Tenants found?\"),V(y.a,{style:{fontSize:100,color:\"#1C2833\",marginBottom:20,marginTop:20}}),V(u.b,null,\"Try to create one Tenant\"))),null!==k&&V(u.d,{flex:1,customStyles:{width:\"100%\",marginTop:15}},k.map((function(e,t){var n=t+1;return V(w.a,{list:p,key:e.id,num:n,ticket:e,handleClose:O,handleOpen:C})}))),null!==k&&0===k.length&&V(u.d,{flex:1,column:!0,middle:!0,center:!0,customStyles:{flexWrap:\"wrap\",marginTop:15}},V(u.n,null,\"No Tickets Found\")))}},hwPB:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var r=n(\"wx14\"),o=n(\"ODXe\"),a=n(\"h4VS\"),i=n(\"q1tI\"),l=n.n(i),c=n(\"vbcS\"),s=n(\"lTCR\"),d=n.n(s),u=n(\"UIRo\"),p=l.a.createElement;function g(){var e=Object(a.a)([\"\\n  query GET_LANDLORD_TICKETS($skip:Int=0,$first:Int=\",\") {\\n    getLandlordTickets(skip:$skip, first:$first,orderBy:createdAt_DESC) {\\n      id\\n      title\\n      description\\n      isClosed\\n      reported_way\\n      reported_date\\n      assignedDate\\n      reported_by {\\n        id\\n        user_name\\n        userType\\n      }\\n      houseId {\\n        id\\n        house_heading\\n      }\\n      createdAt\\n    }\\n  }\\n\"]);return g=function(){return e},e}var f=d()(g(),u.b);t.b=function(e){var t=l.a.useState(1),n=Object(o.a)(t,2),a=n[0],i=n[1];return p(c.b,Object(r.a)({},e,{query:f,variables:{skip:a*u.b-u.b}}),(function(t){return e.children(t,i)}))}}}]);","extractedComments":[]}