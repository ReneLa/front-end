(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"5rCv":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=o},KSRF:function(e,t,n){"use strict";var r=n("ODXe"),a=n("wx14"),o=n("h4VS"),i=n("ttZb"),l=n("6u8J"),c=n("kfFl"),s=n("yv+Y"),u=n("EQI2"),d=n("+JwS"),p=n("469l"),f=n("R/WZ"),g=n("5rCv"),m=n.n(g),h=n("Rme4"),y=n.n(h),v=n("lTCR"),b=n.n(v),x=n("YFqc"),S=n.n(x),w=n("q1tI"),C=n.n(w),O=n("vOnD"),j=n("flkU"),_=n("6L5Y"),T=n("je9M"),I=C.a.createElement;function E(){var e=Object(o.a)(["\n  mutation DELETE_TENANT_MUTATION($id: ID!) {\n    deleteTenant(id: $id) {\n      id\n    }\n  }\n"]);return E=function(){return e},e}var k=Object(f.a)((function(e){return{small:{width:e.spacing(8),height:e.spacing(8),marginBottom:10},popoverPaper:{display:"flex",padding:0,marginLeft:0,marginRight:0,borderRadius:0}}})),R=Object(O.d)(_.d).withConfig({displayName:"TenantCard__CardWrapper",componentId:"sc-1cxgd1s-0"})(["display:flex;flex-direction:column;height:270px;min-width:220px;margin:0px 5px 30px 5px;border-radius:2px;background-color:white;cursor:pointer;&:hover{box-shadow:0 3.2px 7.2px 0 rgba(0,0,0,0.132),0 0.6px 1.8px 0 rgba(0,0,0,0.108);}"]),N=(Object(O.d)(_.d).withConfig({displayName:"TenantCard__Tag",componentId:"sc-1cxgd1s-1"})(["flex:1;align-items:center;justify-content:center;border-radius:10px;padding:5px;margin-right:5px;"]),Object(O.d)(_.d).withConfig({displayName:"TenantCard__CardHeader",componentId:"sc-1cxgd1s-2"})(["direction:flex;flex-direction:column;width:100%;padding:0px 15px 10px 15px;background-color:#f7f9f9;"])),$=Object(O.d)(_.d).withConfig({displayName:"TenantCard__CardContent",componentId:"sc-1cxgd1s-3"})(["direction:flex;flex-direction:column;flex:1;width:100%;background-color:transparent;align-items:center;padding:15px 0px;position:relative;"]),q=Object(O.d)(_.d).withConfig({displayName:"TenantCard__CardActions",componentId:"sc-1cxgd1s-4"})(["display:flex;flex-direction:row;width:100%;position:absolute;min-height:40px;background-color:transparent;bottom:0;"]),P=Object(O.d)(_.l).withConfig({displayName:"TenantCard__CancelBtn",componentId:"sc-1cxgd1s-5"})(["border:none;color:",";background-color:transparent;&:hover{background-color:",";}"],(function(e){return e.theme.primaryDark}),(function(e){return e.theme.lightGrey})),D=b()(E()),F=C.a.forwardRef((function(e,t){return I(l.a,Object(a.a)({direction:"up",ref:t},e))})),A=function(e){var t=e.tenant,n=C.a.useState(!1),a=Object(r.a)(n,2),o=a[0],l=a[1],p=function(){l(!1)},f=Object(i.b)(D,{variables:{id:t.id},refetchQueries:[{query:j.a},{query:T.a}],onCompleted:function(){p()}}),g=Object(r.a)(f,2),m=g[0],h=g[1],y=(h.data,h.loading);return I("div",{style:{flex:1,height:"100%"}},I(_.d,{flex:1,column:!0,color:"transparent",customStyles:{height:"100%",borderTop:"0.5px solid #ECF0F1",borderRight:"0.25px solid #ECF0F1"}},I(_.c,{type:"button",onClick:function(){l(!0)}},"Delete")),I(c.a,{open:o,TransitionComponent:F,keepMounted:!0,onClose:p,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},I(s.a,{id:"alert-dialog-slide-title",style:{fontSize:20}},"You are about to delete this Tenant?"),I(u.a,null,I(_.d,{row:!0,center:!0,color:"transparent",customStyles:{marginTop:15,marginBottom:15}},I(_.o,{customStyles:{marginRight:10}},"Tenant: "),I(_.n,{customStyles:{fontSize:17}},t.firstName))),I(d.a,null,I(P,{onClick:function(){p()}},"Cancel"),I(_.l,{onClick:function(){m()},type:"button",customStyles:{backgroundColor:"#E74C3C",border:"none"}},y?"Deleting":"Delete"))))};t.a=function(e){var t=e.tenant;console.log(t);var n=k(),r=t.houseId;return I(R,null,I(N,null,I(_.d,{row:!0,center:!0,color:"transparent",customStyles:{marginTop:10}},I(_.d,{row:!0,center:!0,flex:.7,color:"white",customStyles:{marginRight:10,border:"0.5px solid #ECF0F1",padding:"10px 0px",borderRadius:2}},I(y.a,{style:{fontSize:22,marginRight:7,color:"orange"}}),I(_.b,null,null!==r&&r.house_heading)),I(_.d,{row:!0,center:!0,right:!0,color:"transparent",flex:.3,customStyles:{padding:"10px 0px"}},t.isActive&&I(p.a,{style:{backgroundColor:"#52BE80",height:25,width:25}},I(m.a,{color:"white",style:{fontSize:15}}))))),I($,null,null!==t.profileImage&&I(p.a,{src:t.profileImage,className:n.small}),null===t.profileImage&&I(p.a,{className:n.small},t.firstName.charAt(0)+t.lastName.charAt(0)),I(_.o,{customStyles:{marginBottom:2}},t.firstName+" "+t.lastName),I(_.b,{customStyles:{color:"blue",marginBottom:5}},t.comm_email),I(_.b,{customStyles:{marginBottom:3}},t.tel_no),I(q,null,I(_.d,{column:!0,flex:.5,color:"transparent"},I(A,{tenant:t})),I(_.d,{column:!0,flex:.5,color:"transparent",customStyles:{borderTop:"0.5px solid #ECF0F1",borderRight:"0.25px solid #ECF0F1"}},I(S.a,{href:"/",as:"/"},I("a",{style:{flex:1,height:"100%"}},I(_.c,{customStyles:{height:"100%",width:"100%"}})))))))}},Rme4:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.default=o},ThQ7:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");t.default=o},WRcy:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("wx14"),a=n("h4VS"),o=n("q1tI"),i=n.n(o),l=n("vbcS"),c=n("lTCR"),s=n.n(c),u=i.a.createElement;function d(){var e=Object(a.a)(["\n  query GET_DISTRICTS_IN_PROVINCE($id: ID!) {\n    getDistrictsByProvince(id: $id) {\n      id\n      name\n    }\n  }\n"]);return d=function(){return e},e}var p=s()(d());t.b=function(e){return u(l.b,Object(r.a)({},e,{query:p,variables:{id:e.id}}),(function(t){return e.children(t)}))}},YFqc:function(e,t,n){e.exports=n("cTJO")},YbdR:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("wx14"),a=n("h4VS"),o=n("q1tI"),i=n.n(o),l=n("vbcS"),c=n("lTCR"),s=n.n(c),u=i.a.createElement;function d(){var e=Object(a.a)(["\n  query GET_PROVINCES_IN_COUNTRY($id: ID!) {\n    getProvincesByCountry(id: $id) {\n      id\n      name\n    }\n  }\n"]);return d=function(){return e},e}var p=s()(d());t.b=function(e){return u(l.b,Object(r.a)({},e,{query:p,variables:{id:e.id}}),(function(t){return e.children(t)}))}},bnla:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.default=o},cTJO:function(e,t,n){"use strict";var r=n("/GRZ"),a=n("i2R6"),o=n("48fX"),i=n("tCBg"),l=n("T0f4");function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var s=n("AroE"),u=n("7KCV");t.__esModule=!0,t.default=void 0;var d,p=u(n("q1tI")),f=n("QmWs"),g=n("g/15"),m=s(n("nOHt")),h=n("elyg");function y(e){return e&&"object"===typeof e?(0,g.formatWithValidation)(e):e}var v=new Map,b=window.IntersectionObserver,x={};function S(){return d||(b?d=new b((function(e){e.forEach((function(e){if(v.has(e.target)){var t=v.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(d.unobserve(e.target),v.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0)}var w=function(e){o(s,e);var t,n=(t=s,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return i(this,e)});function s(e){var t;return r(this,s),(t=n.call(this,e)).p=void 0,t.cleanUpListeners=function(){},t.formatUrls=function(e){var t=null,n=null,r=null;return function(a,o){if(r&&a===t&&o===n)return r;var i=e(a,o);return t=a,n=o,r=i,i}}((function(e,t){return{href:(0,h.addBasePath)(y(e)),as:t?(0,h.addBasePath)(y(t)):t}})),t.linkClicked=function(e){var n=e.currentTarget,r=n.nodeName,a=n.target;if("A"!==r||!(a&&"_self"!==a||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var o=t.formatUrls(t.props.href,t.props.as),i=o.href,l=o.as;if(function(e){var t=(0,f.parse)(e,!1,!0),n=(0,f.parse)((0,g.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(i)){var c=window.location.pathname;i=(0,f.resolve)(c,i),l=l?(0,f.resolve)(c,l):i,e.preventDefault();var s=t.props.scroll;null==s&&(s=l.indexOf("#")<0),m.default[t.props.replace?"replace":"push"](i,l,{shallow:t.props.shallow}).then((function(e){e&&s&&(window.scrollTo(0,0),document.body.focus())}))}}},t.p=!1!==e.prefetch,t}return a(s,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,r=t.as,a=(0,f.resolve)(e,n);return[a,r?(0,f.resolve)(e,r):a]}},{key:"handleRef",value:function(e){var t=this;this.p&&b&&e&&e.tagName&&(this.cleanUpListeners(),x[this.getPaths().join("%")]||(this.cleanUpListeners=function(e,t){var n=S();return n?(n.observe(e),v.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}v.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:"prefetch",value:function(e){if(this.p){var t=this.getPaths();m.default.prefetch(t[0],t[1],e).catch((function(e){0})),x[t.join("%")]=!0}}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,a=n.as;"string"===typeof t&&(t=p.default.createElement("a",null,t));var o=p.Children.only(t),i={ref:function(t){e.handleRef(t),o&&"object"===typeof o&&o.ref&&("function"===typeof o.ref?o.ref(t):"object"===typeof o.ref&&(o.ref.current=t))},onMouseEnter:function(t){o.props&&"function"===typeof o.props.onMouseEnter&&o.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){o.props&&"function"===typeof o.props.onClick&&o.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&("a"!==o.type||"href"in o.props)||(i.href=a||r),p.default.cloneElement(o,i)}}]),s}(p.Component);t.default=w},flkU:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("wx14"),a=n("ODXe"),o=n("h4VS"),i=n("q1tI"),l=n.n(i),c=n("vbcS"),s=n("lTCR"),u=n.n(s),d=n("UIRo"),p=l.a.createElement;function f(){var e=Object(o.a)(["\n  query GET_LANDLORD_TENANTS($skip: Int = 0, $first: Int=",") {\n    getLandlordTenants(skip: $skip, first: $first,orderBy:createdAt_DESC) {\n      id\n      firstName\n      lastName\n      isActive\n      sex\n      comm_email\n      tel_no\n      profileImage\n      registeredBy {\n        id\n      }\n      houseId {\n        id\n        house_no\n        house_heading\n      }\n      stay_duration\n      from_date\n      street\n      updatedAt\n    }\n  }\n"]);return f=function(){return e},e}var g=u()(f(),d.b);t.b=function(e){var t=l.a.useState(1),n=Object(a.a)(t,2),o=n[0],i=n[1];return p(c.b,Object(r.a)({},e,{query:g,variables:{skip:o*d.b-d.b}}),(function(t){return e.children(t,i)}))}},je9M:function(e,t,n){"use strict";n.d(t,"a",(function(){return pe}));var r=n("wx14"),a=n("Ff2n"),o=n("KQm4"),i=n("ODXe"),l=n("h4VS"),c=n("CarD"),s=n.n(c),u=n("8C4M"),d=n.n(u),p=n("x1ji"),f=n.n(p),g=n("lTCR"),m=n.n(g),h=n("q1tI"),y=n.n(h),v=n("vbcS"),b=n("vOnD"),x=n("UIRo"),S=n("o0o1"),w=n.n(S),C=n("lqOT"),O=n("9/5/"),j=n.n(O),_=n("6L5Y"),T=y.a.createElement;function I(){var e=Object(l.a)(["\n  query SEARCH_TENANT_QUERY($searchTerm: String!) {\n    searchUserTenants(searchTerm: $searchTerm) {\n      id\n      firstName\n      lastName\n      isActive\n      sex\n      comm_email\n      tel_no\n      profileImage\n      registeredBy {\n        id\n      }\n      houseId {\n        id\n        house_no\n      }\n      stay_duration\n      from_date\n      street\n      updatedAt\n    }\n  }\n"]);return I=function(){return e},e}var E=Object(b.d)(_.d).withConfig({displayName:"SearchTenants__SearchBox",componentId:"d3456b-0"})(["display:flex;flex-direction:row;align-items:center;padding-right:10px;background-color:white;height:32px;padding:0px 5px;min-width:150px;margin-left:7px;margin-right:10px;"]),k=m()(I()),R=function(e){var t=e.setFound,n=e.setLoading,r=j()((function(e,r){var a,o;return w.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n(!0),i.next=3,w.a.awrap(r.query({query:k,variables:{searchTerm:e.target.value}}));case 3:a=i.sent,o=a.data.searchUserTenants,t(o),n(!1);case 7:case"end":return i.stop()}}),null,null,null,Promise)}),350);return T(E,null,T(C.a,null,(function(e){return T(_.m,{type:"search",onChange:function(t){t.persist(),r(t,e)},customStyles:{fontSize:15,height:"100%",lineHeight:1,padding:0,width:"100%",border:0,backgroundColor:"white"}})})))},N=n("KSRF"),$=n("kfFl"),q=n("yv+Y"),P=n("EQI2"),D=n("R/WZ"),F=n("tr08"),A=n("lopY"),B=n("bnla"),z=n.n(B),L=n("ThQ7"),U=n.n(L),M=n("kseb"),W=n("WRcy"),V=n("bzWV"),H=n("flkU"),Y=n("YbdR"),Q=y.a.createElement;function G(){var e=Object(l.a)(["\n  mutation CREATE_TENANT_MUTATION(\n    $firstName: String!\n    $lastName: String!\n    $no_people: Int\n    $tenantType: String\n    $isActive: Boolean\n    $tel_no: String\n    $sex: String\n    $stay_duration: DateTime\n    $comm_email: String\n    $profileImage: String\n    $houseId: ID\n    $from_date: DateTime\n    $to_date: DateTime\n    $countryId: ID\n    $provinceId: ID\n    $districtId: ID\n    $street: String\n  ) {\n    createTenant(\n      firstName: $firstName\n      lastName: $lastName\n      no_people: $no_people\n      tenantType: $tenantType\n      isActive: $isActive\n      tel_no: $tel_no\n      sex: $sex\n      stay_duration: $stay_duration\n      comm_email: $comm_email\n      profileImage: $profileImage\n      houseId: $houseId\n      from_date: $from_date\n      to_date: $to_date\n      countryId: $countryId\n      provinceId: $provinceId\n      districtId: $districtId\n      street: $street\n    ) {\n      id\n    }\n  }\n"]);return G=function(){return e},e}var K=Object(D.a)((function(e){return{dialogPaper:{height:700,borderRadius:2,backgroundColor:"#F2F3F4"},dialogActionStyle:{padding:0,margin:0,border:"none",backgroundColor:"#F2F3F4"},dialogActions:{width:"100%",padding:0,margin:0,border:"none"},dialogContentStyle:{display:"flex",flexDirection:"row",marginRight:10,height:"100%",backgroundColor:"white",border:"none"},avatarStyle:{position:"relative",width:e.spacing(12),height:e.spacing(10),borderRadius:5,backgroundColor:"#F3F2F1"},inputStyle:{border:0,borderRadius:1,paddingTop:10,paddingRight:10,paddingBottom:10,paddingLeft:10,backgroundColor:"#F5F8FA",minHeight:60,fontSize:12,"&:focus":{border:"1px solid #4C3AF7",backgroundColor:"#FEFEFF"}}}})),J=Object(b.d)(_.a).withConfig({displayName:"CreateTenant__ActionBtn",componentId:"sc-3akzex-0"})(["display:flex;justify-content:center;align-items:center;align-content:center;padding-right:10px;padding-left:10px;border-radius:2px;background-color:",";"],(function(e){return e.theme.lightGrey})),X=(Object(b.d)(_.a).withConfig({displayName:"CreateTenant__CloseBtn",componentId:"sc-3akzex-1"})(["position:absolute;top:0;right:0;z-index:1304;display:flex;justify-content:center;align-items:center;align-content:center;padding-right:6px;padding-left:6px;border-radius:2px;background-color:",";"],(function(e){return e.theme.bgPrimary})),Object(b.d)(_.l).withConfig({displayName:"CreateTenant__CancelBtn",componentId:"sc-3akzex-2"})(["border:none;color:",";background-color:transparent;&:hover{background-color:",";}"],(function(e){return e.theme.primaryDark}),(function(e){return e.theme.lightGrey}))),Z=Object(b.d)(_.k).withConfig({displayName:"CreateTenant__UploadBtn",componentId:"sc-3akzex-3"})(["display:flex;height:60px;width:100%;border:",";"],(function(e){var t=e.theme;return"1px dashed ".concat(t.btnPrimary)})),ee=m()(G()),te=function(e){var t=e.house,n=e.setHouse,r=y.a.useState(null),a=Object(i.a)(r,2),o=a[0],l=a[1],c=Object(h.useState)([]),s=c[0],u=c[1],d=Object(h.useState)(!1),p=(d[0],d[1]);var f=function(e){var t=[];return e.forEach((function(e,n){var r={id:e.id,value:e.house_heading};t.push(r)})),t},g=function(){l(null)};return Q(C.a,null,(function(e){return Q(_.d,{column:!0,color:"transparent",customStyles:{marginRight:10,marginBottom:10}},Q(_.e,{title:t.length>0?t[0].value:"Add House",anchorEl:o,handleOpen:function(t){return function(e,t){var n,r;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return p(!0),l(e.currentTarget),a.next=4,w.a.awrap(t.query({query:V.a}));case 4:n=a.sent,r=n.data.getUserHouses,u(f(r)),console.log(r);case 8:case"end":return a.stop()}}),null,null,null,Promise)}(t,e)},handleClose:g,selection:t,setSelection:n,items:s,wrapperStyles:{width:100}}))}))},ne=function(e){var t=e.country,n=e.setCountry,r=y.a.useState(null),a=Object(i.a)(r,2),o=a[0],l=a[1],c=Object(h.useState)([]),s=c[0],u=c[1],d=Object(h.useState)(!1),p=(d[0],d[1]);var f=function(e){var t=[];return e.forEach((function(e,n){var r={id:e.id,value:e.name};t.push(r)})),t},g=function(){l(null)};return Q(C.a,null,(function(e){return Q(_.d,{column:!0,color:"transparent",customStyles:{marginRight:10}},Q(_.e,{title:t.length>0?t[0].value:"Country",anchorEl:o,handleOpen:function(t){return function(e,t){var n,r;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return p(!0),l(e.currentTarget),a.next=4,w.a.awrap(t.query({query:M.a}));case 4:n=a.sent,r=n.data.countries,u(f(r));case 7:case"end":return a.stop()}}),null,null,null,Promise)}(t,e)},handleClose:g,selection:t,setSelection:n,items:s,wrapperStyles:{width:150}}))}))},re=function(e){var t=e.country,n=e.province,r=e.setProvince,a=y.a.useState(null),o=Object(i.a)(a,2),l=o[0],c=o[1],s=Object(h.useState)([]),u=s[0],d=s[1],p=Object(h.useState)(!1),f=(p[0],p[1]);var g=function(e){var t=[];return e.forEach((function(e,n){var r={id:e.id,value:e.name};t.push(r)})),t},m=function(){c(null)};return Q(C.a,null,(function(e){return Q(_.d,{column:!0,color:"transparent",customStyles:{pointerEvents:0===t.length?"none":"auto",marginRight:10}},Q(_.e,{title:n.length>0?n[0].value:"Province",anchorEl:l,handleOpen:function(n){return function(e,n){var r,a;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return f(!0),c(e.currentTarget),o.next=4,w.a.awrap(n.query({query:Y.a,variables:{id:t[0].id}}));case 4:r=o.sent,a=r.data.getProvincesByCountry,d(g(a));case 7:case"end":return o.stop()}}),null,null,null,Promise)}(n,e)},handleClose:m,selection:n,setSelection:r,items:u,wrapperStyles:{width:150}}))}))},ae=function(e){var t=e.province,n=e.district,r=e.setDistrict,a=y.a.useState(null),o=Object(i.a)(a,2),l=o[0],c=o[1],s=Object(h.useState)([]),u=s[0],d=s[1],p=Object(h.useState)(!1),f=(p[0],p[1]);var g=function(e){var t=[];return e.forEach((function(e,n){var r={id:e.id,value:e.name};t.push(r)})),t},m=function(){c(null)};return Q(C.a,null,(function(e){return Q(_.d,{column:!0,color:"transparent",customStyles:{pointerEvents:0===t.length?"none":"auto"}},Q(_.e,{title:n.length>0?n[0].value:"District",anchorEl:l,handleOpen:function(n){return function(e,n){var r,a;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return f(!0),c(e.currentTarget),o.next=4,w.a.awrap(n.query({query:W.a,variables:{id:t[0].id}}));case 4:r=o.sent,a=r.data.getDistrictsByProvince,d(g(a));case 7:case"end":return o.stop()}}),null,null,null,Promise)}(n,e)},handleClose:m,selection:n,setSelection:r,items:u,wrapperStyles:{width:150}}))}))},oe=function(e){e.profileImg;var t=e.setProfile,n=(e.images,e.setImages,e.isUploading,e.setIsUploading),r=Object(h.useState)([]),a=r[0],i=r[1],l=Object(h.useState)(!1),c=l[0],s=l[1];return Q(y.a.Fragment,null,Q(_.d,{flex:0,row:!0,center:!0,color:"transparent",customStyles:{paddingTop:10,paddingBottom:5}},Q(_.d,{row:!0,center:!0,middle:!0,flex:0,customStyles:{padding:3,marginRight:5}},Q(U.a,{style:{fontSize:25}})),Q(_.d,{flex:1,row:!0,center:!0,color:"transparent"},a.map((function(e,t){return Q(_.b,{key:t,customStyles:{marginRight:4,color:"black",fontSize:13}},e)})))),Q(_.d,{flex:.5,row:!0,customStyles:{pointerEvents:0===c?"none":"auto"}},Q(Z,{type:"button"},Q(_.i,{accept:"image/*",id:"text-button-file",type:"file",onChange:function(e){var r,l,c,u;return w.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n(!0),r=e.target.files,i([].concat(Object(o.a)(a),[r[0].name])),(l=new FormData).append("file",r[0]),l.append("upload_preset","house_assist"),d.next=8,w.a.awrap(fetch("https://api.cloudinary.com/v1_1/dsubmyluz/image/upload/",{method:"POST",body:l}));case 8:return c=d.sent,d.next=11,w.a.awrap(c.json());case 11:(u=d.sent)&&(t(u.secure_url),s(!0),n(!1));case 13:case"end":return d.stop()}}),null,null,null,Promise)},style:{marginLeft:10,width:200}}))))},ie=function(){var e=K(),t=Object(F.a)(),n=Object(h.useState)(!1),r=n[0],a=n[1],o=Object(h.useState)(!1),i=o[0],l=o[1],c=Object(h.useState)("paper"),s=c[0],u=(c[1],Object(A.a)(t.breakpoints.down("sm"))),d=Object(h.useState)(null),p=d[0],f=d[1],g=Object(h.useState)(null),m=g[0],y=g[1],b=Object(h.useState)(null),x=b[0],S=b[1],C=Object(h.useState)(null),O=C[0],j=C[1],T=Object(h.useState)(null),I=T[0],E=T[1],k=Object(h.useState)(null),R=k[0],N=k[1],D=Object(h.useState)(!1),B=(D[0],D[1],Object(h.useState)(null)),L=B[0],U=(B[1],Object(h.useState)(null)),M=U[0],W=U[1],V=Object(h.useState)(null),Y=V[0],G=V[1],Z=Object(h.useState)(null),ie=Z[0],le=(Z[1],Object(h.useState)([])),ce=le[0],se=le[1],ue=Object(h.useState)([]),de=ue[0],pe=ue[1],fe=Object(h.useState)([]),ge=fe[0],me=fe[1],he=Object(h.useState)(null),ye=he[0],ve=he[1],be=Object(h.useState)([]),xe=be[0],Se=be[1],we=Object(h.useState)([]),Ce=we[0],Oe=we[1],je=Object(h.useState)(""),_e=je[0],Te=(je[1],function(){a(!0)}),Ie=function(){a(!1)},Ee=new Date;Ee.setDate(Ee.getDate()+3);var ke=Ee.toISOString().substr(0,10);return Q(v.a,{mutation:ee,refetchQueries:[{query:H.a}],variables:{firstName:p,lastName:m,no_people:parseInt(x),tenantType:L,isActive:Ce.length>0,tel_no:I,sex:R,stay_duration:ie,comm_email:O,profileImage:ye,houseId:Ce.length>0?Ce[0].id:"",from_date:M,to_date:Y,countryId:ce.length>0?ce[0].id:"",provinceId:ge.length>0?ge[0].id:"",districtId:de.length>0?de[0].id:"",street:_e}},(function(t,n){var a=n.loading;n.error;return Q("div",null,Q(J,{onClick:Te},Q(z.a,{style:{fontSize:23,marginRight:5}}),"Add Tenant"),Q($.a,{fullScreen:u,onClose:Ie,classes:{paper:e.dialogPaper},"aria-labelledby":"customized-dialog-title",open:r,scroll:s},Q(q.a,{id:"scroll-dialog-title",classes:{root:e.dialogActionStyle}},Q(_.d,{row:!0,center:!0,color:"transparent",space:"space-between",customStyles:{paddingTop:15,paddingBottom:7,paddingRight:10,paddingLeft:20}},Q(_.n,null," Add Tenant"),Q(X,{onClick:Ie},"Cancel"))),Q("form",{method:"post",onSubmit:function(e){return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,w.a.awrap(t().then((function(e){Ie()})).catch((function(e){alert(e)})));case 3:case"end":return n.stop()}}),null,null,null,Promise)},style:{display:"flex",flexDirection:"row",paddingLeft:20,paddingRight:20,paddingTop:10,paddingBottom:10}},Q(P.a,{dividers:"body"===s,style:{flex:1},classes:{root:e.dialogContentStyle}},Q("div",null,Q(_.d,{row:!0,center:!0,color:"transparent"},Q(_.b,{customStyles:{color:"#323130",fontWeight:"600",marginBottom:10}},"Profile Information")),Q(_.d,{color:"transparent",row:!0,space:"space-between"},Q(_.d,{flex:1,customStyles:{paddingRight:10},color:"transparent"},Q(_.i,{placeholder:"First Name",type:"text",value:p,onChange:function(e){return f(e.target.value)}})),Q(_.d,{color:"transparent",flex:1,customStyles:{paddingLeft:10}},Q(_.i,{placeholder:"Last Name",type:"text",value:m,onChange:function(e){return y(e.target.value)}}))),Q(_.d,{color:"transparent",row:!0,space:"space-between"},Q(_.d,{flex:1,customStyles:{paddingRight:10},color:"transparent"},Q(_.i,{placeholder:"E-mail",type:"email",value:O,onChange:function(e){return j(e.target.value)}})),Q(_.d,{color:"transparent",flex:1,customStyles:{paddingLeft:10}},Q(_.i,{placeholder:"Tel no",type:"phone",value:I,onChange:function(e){return E(e.target.value)}}))),Q(_.d,{color:"transparent",row:!0,space:"space-between"},Q(_.d,{flex:1,customStyles:{paddingRight:10},color:"transparent"},Q(_.i,{placeholder:"No. of family",type:"number",value:x,onChange:function(e){return S(e.target.value)}})),Q(_.d,{color:"transparent",flex:1,customStyles:{paddingLeft:10}},Q(_.i,{placeholder:"Sex",type:"text",value:R,onChange:function(e){return N(e.target.value)}}))),Q(_.d,{row:!0,center:!0,color:"transparent"},Q(_.b,{customStyles:{color:"#323130",fontWeight:"600",marginTop:10,marginBottom:10}},"Duration of stay")),Q(_.d,{row:!0,color:"transparent"},Q(_.i,{type:"date",label:"From",defaultValue:ke,value:M,onChange:function(e){return W(e.target.value)},style:{marginRight:20}}),Q(_.i,{type:"date",label:"To..",defaultValue:ke,value:Y,onChange:function(e){return G(e.target.value)}})),Q(_.d,{row:!0,center:!0,color:"transparent",customStyles:{marginBottom:10}},Q(_.b,{customStyles:{color:"#323130",fontWeight:"600",marginTop:10}},"Location")),Q(_.d,{row:!0,color:"transparent",customStyles:{marginBottom:15}},Q(ne,{country:ce,setCountry:se}),Q(re,{country:ce,province:ge,setProvince:me}),Q(ae,{district:de,province:ge,setDistrict:pe})),Q(_.d,{flex:0,row:!0,center:!0,color:"transparent"},Q(_.b,{customStyles:{color:"#323130",fontWeight:"600",marginBottom:10}},"Add House Tenant")),Q(_.d,{flex:0,row:!0,center:!0,color:"transparent"},Q(_.d,{flex:.3,column:!0,color:"transparent"},Q(te,{house:Ce,setHouse:Oe})),Q(_.b,{customStyles:{color:"#E74C3C"}},"you need to atleast have one house")),Q(_.d,{row:!0,center:!0,color:"transparent"},Q(_.b,{customStyles:{color:"#323130",fontWeight:"600",marginBottom:10}},"Profile picture")),Q(oe,{isUploading:i,setIsUploading:l,profileImg:ye,setProfile:ve,images:xe,setImages:Se}),Q(_.d,{color:"transparent",right:!0,center:!0,row:!0,flex:!1,customStyles:{paddingTop:30,paddingBottom:5}},i?Q(_.l,{type:"submit",customStyles:{pointerEvents:i?"none":"auto",opacity:i?.5:1}},"Uploading.."):Q(_.l,{type:"submit",customStyles:{pointerEvents:Ce.length<=0?"none":"auto",opacity:Ce.length<=0?.5:1}},a?"saving":"Save Tenant")))))))}))},le=y.a.createElement;function ce(){var e=Object(l.a)(["\n  query PAGINATION_QUERY {\n    tenantsConnection {\n      aggregate {\n        count\n      }\n    }\n  }\n"]);return ce=function(){return e},e}var se=Object(b.d)(_.d).withConfig({displayName:"tenants__SearchWrapper",componentId:"sc-13ij4ib-0"})(["display:flex;width:100%;flex-direction:row;padding:20px 110px 10px 110px;"]),ue=Object(b.d)(_.d).withConfig({displayName:"tenants__Wrapper",componentId:"sc-13ij4ib-1"})(["display:flex;flex-direction:column;width:100%;padding-top:0px;padding-left:110px;padding-bottom:15px;padding-right:110px;"]),de=(Object(b.d)(_.a).withConfig({displayName:"tenants__ActionBtn",componentId:"sc-13ij4ib-2"})(["display:flex;justify-content:center;align-items:center;align-content:center;padding-right:10px;padding-left:10px;border-radius:2px;background-color:",";"],(function(e){return e.theme.lightGrey})),Object(b.d)(_.h).withConfig({displayName:"tenants__PageBtn",componentId:"sc-13ij4ib-3"})(["display:flex;justify-content:center;align-items:center;align-content:center;border:none;margin-right:5px;height:33px;width:33px;",""],(function(e){return e.activeStyles}))),pe=m()(ce()),fe=function(e){var t=e.setSkip,n=y.a.useState(1),r=Object(i.a)(n,2),a=r[0],l=r[1];return le(v.b,{query:pe},(function(e){var n=e.data;e.loading,e.error;if(n){var r=n.tenantsConnection.aggregate.count,i=Math.ceil(r/x.b),c=a<=1,u=a>=i;return le(_.d,{flex:0,row:!0,middle:!0,customStyles:{paddingTop:10,paddingBottom:25}},le(_.h,{onClick:function(){return l(a-1),void t(a-1)},customStyles:{border:"1px solid #E1E1E1",marginRight:10,height:33,width:33,pointerEvents:c?"none":"auto",opacity:c?.6:1}},le(s.a,{style:{fontSize:25}})),Object(o.a)(Array(i)).map((function(e,n){var r=n+1;return le(de,{key:n,onClick:function(){l(r),t(r)},activeStyles:{backgroundColor:r===a?"#E1E1E1":"transparent",pointerEvents:r===a?"none":"auto"}},le("span",null,r))})),le(_.h,{onClick:function(){return l(a+1),void t(a+1)},customStyles:{border:"1px solid #E1E1E1",height:33,width:33,marginLeft:5,pointerEvents:u?"none":"auto",opacity:u?.6:1}},le(d.a,{style:{fontSize:25}})))}return null}))};t.b=function(e){var t=e.tenants,n=e.setSkip,o=Object(a.a)(e,["tenants","setSkip"]),l=y.a.useState(!1),c=Object(i.a)(l,2),s=(c[0],c[1]),u=y.a.useState(null),d=Object(i.a)(u,2),p=d[0],g=d[1];return le(_.d,{flex:1},le(se,null,le(_.g,null,"Your Tenants"),le(_.d,{row:!0,center:!0,flex:1,right:!0},le(_.o,null,"Search:"),le(R,{setLoading:s,setFound:g}),le(ie,null))),le(ue,null,le(_.d,{space:"space-between",center:!0,row:!0,customStyles:{paddingTop:10,paddingBottom:10}},le(_.d,{row:!0,center:!0,flex:1})),null===p&&le(y.a.Fragment,null,t&&t.length>0&&le(fe,{setSkip:n}),le(_.d,{flex:1,row:!0,customStyles:{flexWrap:"wrap"}},t&&t.map((function(e){return le(N.a,Object(r.a)({key:e.id,tenant:e},o))}))),t&&t.length<=0&&le(_.d,{flex:1,column:!0,center:!0,middle:!0,customStyles:{minHeight:300}},le(_.n,{customStyles:{marginBottom:20}},"No Tenants found?"),le(f.a,{style:{fontSize:100,color:"#1C2833",marginBottom:20,marginTop:20}}),le(_.b,null,"Try to create one Tenant"))),null!==p&&le(_.d,{flex:1,row:!0,customStyles:{flexWrap:"wrap"}},p.map((function(e){return le(N.a,Object(r.a)({key:e.id,tenant:e},o))}))),null!==p&&0===p.length&&le(_.d,{flex:1,column:!0,middle:!0,center:!0,customStyles:{flexWrap:"wrap"}},le(_.n,null,"No House Found"))))}},kseb:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("wx14"),a=n("h4VS"),o=n("q1tI"),i=n.n(o),l=n("vbcS"),c=n("lTCR"),s=n.n(c),u=i.a.createElement;function d(){var e=Object(a.a)(["\n  query {\n    countries {\n      id\n      name\n      provinces {\n        id\n        name\n        districts {\n          id\n          name\n          sectors {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var p=s()(d());t.b=function(e){return u(l.b,Object(r.a)({},e,{query:p}),(function(t){return e.children(t)}))}},x1ji:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M12 2c-4.97 0-9 4.03-9 9 0 4.17 2.84 7.67 6.69 8.69L12 22l2.31-2.31C18.16 18.67 21 15.17 21 11c0-4.97-4.03-9-9-9zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.3c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"PersonPin");t.default=o}}]);